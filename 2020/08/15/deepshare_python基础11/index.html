<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>python基础11(Numpy库) | rgwang</title><meta name="description" content="第十一章 Numpy库11.1 为什么要用Numpy11.1.1 &amp;ensp;低效的Python for循环【例】 求100万个数的倒数 123456789def compute_reciprocals(values):    res &#x3D; []    for value in values:      # 每遍历到一个元素，就要判断其类型，并查找适用于该数据类型的正确函数        res.a"><meta name="keywords" content="python"><meta name="author" content="rgwang"><meta name="copyright" content="rgwang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="python基础11(Numpy库)"><meta name="twitter:description" content="第十一章 Numpy库11.1 为什么要用Numpy11.1.1 &amp;ensp;低效的Python for循环【例】 求100万个数的倒数 123456789def compute_reciprocals(values):    res &#x3D; []    for value in values:      # 每遍历到一个元素，就要判断其类型，并查找适用于该数据类型的正确函数        res.a"><meta name="twitter:image" content="https://rgwang.github.io/img/action-android-device-electronics-595804.jpg"><meta property="og:type" content="article"><meta property="og:title" content="python基础11(Numpy库)"><meta property="og:url" content="https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8011/"><meta property="og:site_name" content="rgwang"><meta property="og:description" content="第十一章 Numpy库11.1 为什么要用Numpy11.1.1 &amp;ensp;低效的Python for循环【例】 求100万个数的倒数 123456789def compute_reciprocals(values):    res &#x3D; []    for value in values:      # 每遍历到一个元素，就要判断其类型，并查找适用于该数据类型的正确函数        res.a"><meta property="og:image" content="https://rgwang.github.io/img/action-android-device-electronics-595804.jpg"><meta property="article:published_time" content="2020-08-15T04:31:42.410Z"><meta property="article:modified_time" content="2020-08-17T05:02:11.521Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8011/"><link rel="prev" title="python基础12(Pandas库)" href="https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8012/"><link rel="next" title="python基础10(标准库)" href="https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8010/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://rgwang.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/1971a47ac42c3aad3425f91b89c64fd4.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">22</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第十一章-Numpy库"><span class="toc-number">1.</span> <span class="toc-text">第十一章 Numpy库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-1-为什么要用Numpy"><span class="toc-number">1.1.</span> <span class="toc-text">11.1 为什么要用Numpy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-1-ensp-低效的Python-for循环"><span class="toc-number">1.1.1.</span> <span class="toc-text">11.1.1 &amp;ensp;低效的Python for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-2-ensp-Numpy为什么如此高效"><span class="toc-number">1.1.2.</span> <span class="toc-text">11.1.2 &amp;ensp;Numpy为什么如此高效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-3-ensp-什么时候用Numpy"><span class="toc-number">1.1.3.</span> <span class="toc-text">11.1.3 &amp;ensp;什么时候用Numpy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-2-Numpy数组的创建"><span class="toc-number">1.2.</span> <span class="toc-text">11.2 Numpy数组的创建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-1-从列表开始创建"><span class="toc-number">1.2.1.</span> <span class="toc-text">11.2.1 从列表开始创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-2-从头创建数组"><span class="toc-number">1.2.2.</span> <span class="toc-text">11.2.2 从头创建数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-3-Numpy数组的性质"><span class="toc-number">1.3.</span> <span class="toc-text">11.3 Numpy数组的性质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-1-数组的属性"><span class="toc-number">1.3.1.</span> <span class="toc-text">11.3.1 数组的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-2-数组索引"><span class="toc-number">1.3.2.</span> <span class="toc-text">11.3.2 数组索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-3-数组的切片"><span class="toc-number">1.3.3.</span> <span class="toc-text">11.3.3 数组的切片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-4-数组的变形"><span class="toc-number">1.3.4.</span> <span class="toc-text">11.3.4 数组的变形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-5-数组的拼接"><span class="toc-number">1.3.5.</span> <span class="toc-text">11.3.5 数组的拼接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-6-数组的分裂"><span class="toc-number">1.3.6.</span> <span class="toc-text">11.3.6 数组的分裂</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-4-Numpy四大运算"><span class="toc-number">1.4.</span> <span class="toc-text">11.4 Numpy四大运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-1-向量化运算"><span class="toc-number">1.4.1.</span> <span class="toc-text">11.4.1 向量化运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-2-矩阵运算"><span class="toc-number">1.4.2.</span> <span class="toc-text">11.4.2 矩阵运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-3-广播运算"><span class="toc-number">1.4.3.</span> <span class="toc-text">11.4.3 广播运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-4-比较运算和掩码"><span class="toc-number">1.4.4.</span> <span class="toc-text">11.4.4 比较运算和掩码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-5-花哨的索引"><span class="toc-number">1.4.5.</span> <span class="toc-text">11.4.5  花哨的索引</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-5-其他Numpy通用函数"><span class="toc-number">1.5.</span> <span class="toc-text">11.5 其他Numpy通用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-1-数值排序"><span class="toc-number">1.5.1.</span> <span class="toc-text">11.5.1  数值排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-2-最大最小值"><span class="toc-number">1.5.2.</span> <span class="toc-text">11.5.2  最大最小值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-3-数值求和、求积"><span class="toc-number">1.5.3.</span> <span class="toc-text">11.5.3  数值求和、求积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-4-中位数、均值、方差、标准差"><span class="toc-number">1.5.4.</span> <span class="toc-text">11.5.4  中位数、均值、方差、标准差</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/action-android-device-electronics-595804.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">rgwang</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">python基础11(Numpy库)</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-08-15 12:31:42"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-08-15</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-08-17 13:02:11"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-08-17</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">4.6k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 24 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="第十一章-Numpy库"><a href="#第十一章-Numpy库" class="headerlink" title="第十一章 Numpy库"></a>第十一章 Numpy库</h1><h2 id="11-1-为什么要用Numpy"><a href="#11-1-为什么要用Numpy" class="headerlink" title="11.1 为什么要用Numpy"></a>11.1 为什么要用Numpy</h2><h3 id="11-1-1-ensp-低效的Python-for循环"><a href="#11-1-1-ensp-低效的Python-for循环" class="headerlink" title="11.1.1 &ensp;低效的Python for循环"></a>11.1.1 &ensp;低效的Python for循环</h3><p>【例】 求100万个数的倒数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compute_reciprocals</span><span class="params">(values)</span>:</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> values:      <span class="comment"># 每遍历到一个元素，就要判断其类型，并查找适用于该数据类型的正确函数</span></span><br><span class="line">        res.append(<span class="number">1</span>/value)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">values = list(range(<span class="number">1</span>, <span class="number">1000000</span>))</span><br><span class="line">%timeit compute_reciprocals(values)</span><br></pre></td></tr></table></figure>
<pre><code>166 ms ± 6.57 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
</code></pre><p>%timeit ：ipython中统计运行时间的魔术方法（多次运行取平均值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">values = np.arange(<span class="number">1</span>, <span class="number">1000000</span>)</span><br><span class="line">%timeit <span class="number">1</span>/values</span><br></pre></td></tr></table></figure>
<pre><code>5.76 ms ± 90.3 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code></pre><p><strong>实现相同计算，Numpy的运行速度是Python循环的25倍，产生了质的飞跃</strong></p>
<h3 id="11-1-2-ensp-Numpy为什么如此高效"><a href="#11-1-2-ensp-Numpy为什么如此高效" class="headerlink" title="11.1.2 &ensp;Numpy为什么如此高效"></a>11.1.2 &ensp;Numpy为什么如此高效</h3><p><strong>Numpy 是由C语言编写的</strong></p>
<p><strong>1、编译型语言VS解释型语言</strong></p>
<p>C语言执行时，对代码进行整体编译，速度更快</p>
<p><strong>2、连续单一类型存储VS分散多变类型存储</strong></p>
<p>（1）Numpy数组内的数据类型必须是统一的，如全部是浮点型，而Python列表支持任意类型数据的填充</p>
<p>（2）Numpy数组内的数据<strong>连续存储在内存中</strong>，而Python列表的数据<strong>分散在内存中</strong></p>
<p> &emsp; <strong>这种存储结构，与一些更加高效的底层处理方式更加的契合</strong></p>
<p><strong>3、多线程VS线程锁</strong></p>
<p>Python语言执行时有线程锁，无法实现真正的多线程并行，而C语言可以</p>
<h3 id="11-1-3-ensp-什么时候用Numpy"><a href="#11-1-3-ensp-什么时候用Numpy" class="headerlink" title="11.1.3 &ensp;什么时候用Numpy"></a>11.1.3 &ensp;什么时候用Numpy</h3><p><strong>在数据处理的过程中，遇到使用“Python for循环” 实现一些向量化、矩阵化操作的时候，要优先考虑用Numpy</strong></p>
<p>如：  1、两个向量的点乘  </p>
<p>&emsp;  &emsp;2、矩阵乘法  </p>
<h2 id="11-2-Numpy数组的创建"><a href="#11-2-Numpy数组的创建" class="headerlink" title="11.2 Numpy数组的创建"></a>11.2 Numpy数组的创建</h2><h3 id="11-2-1-从列表开始创建"><a href="#11-2-1-从列表开始创建" class="headerlink" title="11.2.1 从列表开始创建"></a>11.2.1 从列表开始创建</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>[1 2 3 4 5]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(type(x))</span><br><span class="line">print(x.shape)</span><br></pre></td></tr></table></figure>
<pre><code>&lt;class &#39;numpy.ndarray&#39;&gt;
(5,)
</code></pre><ul>
<li>设置数组的数据类型</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], dtype=<span class="string">"float32"</span>)</span><br><span class="line">print(x)</span><br><span class="line">print(type(x[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>
<pre><code>[1. 2. 3. 4. 5.]
&lt;class &#39;numpy.float32&#39;&gt;
</code></pre><ul>
<li>二维数组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">             [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">             [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line">print(x)</span><br><span class="line">print(x.shape)</span><br></pre></td></tr></table></figure>
<pre><code>[[1 2 3]
 [4 5 6]
 [7 8 9]]
(3, 3)
</code></pre><h3 id="11-2-2-从头创建数组"><a href="#11-2-2-从头创建数组" class="headerlink" title="11.2.2 从头创建数组"></a>11.2.2 从头创建数组</h3><p><strong>（1）创建长度为5的数组，值都为0</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.zeros(<span class="number">5</span>, dtype=int)</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 0, 0, 0, 0])
</code></pre><p><strong>（2）创建一个2*4的浮点型数组，值都为1</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.ones((<span class="number">2</span>, <span class="number">4</span>), dtype=float)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1., 1.],
       [1., 1., 1., 1.]])
</code></pre><p><strong>（3）创建一个3*5的数组，值都为8.8</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.full((<span class="number">3</span>, <span class="number">5</span>), <span class="number">8.8</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[8.8, 8.8, 8.8, 8.8, 8.8],
       [8.8, 8.8, 8.8, 8.8, 8.8],
       [8.8, 8.8, 8.8, 8.8, 8.8]])
</code></pre><p><strong>（4）创建一个3*3的单位矩阵</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.eye(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
</code></pre><p><strong>（5）创建一个线性序列数组，从1开始，到15结束，步长为2</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">1</span>, <span class="number">15</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 1,  3,  5,  7,  9, 11, 13])
</code></pre><p><strong>（6）创建一个4个元素的数组，这四个数均匀的分配到0~1</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([0.        , 0.33333333, 0.66666667, 1.        ])
</code></pre><p><strong>（7）创建一个10个元素的数组，形成1~10^9的等比数列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.logspace(<span class="number">0</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([1.e+00, 1.e+01, 1.e+02, 1.e+03, 1.e+04, 1.e+05, 1.e+06, 1.e+07,
       1.e+08, 1.e+09])
</code></pre><p><strong>（8）创建一个3*3的，在0~1之间均匀分布的随机数构成的数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.random((<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[0.95965665, 0.112545  , 0.54850803],
       [0.88975115, 0.93301959, 0.01296354],
       [0.54707445, 0.04428504, 0.23868503]])
</code></pre><p><strong>（9）创建一个3*3的，均值为0，标准差为1的正态分布随机数构成的数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[-1.3891312 ,  1.41949716, -0.44351392],
       [-1.40654635, -0.27605271,  0.27551558],
       [ 1.01144325,  0.52382962, -0.37434268]])
</code></pre><p><strong>（10）创建一个3*3的，在[0,10)之间随机整数构成的数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[9, 9, 2],
       [3, 1, 0],
       [2, 5, 8]])
</code></pre><p><strong>（11）随机重排列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line">np.random.permutation(x)       <span class="comment"># 生产新列表</span></span><br></pre></td></tr></table></figure>
<pre><code>array([30, 20, 10, 40])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(x)</span><br><span class="line">np.random.shuffle(x)          <span class="comment"># 修改原列表</span></span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<pre><code>[10 20 30 40]
[30 10 40 20]
</code></pre><p><strong>（12）随机采样</strong></p>
<ul>
<li>按指定形状采样</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">10</span>, <span class="number">25</span>, dtype = float)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([10., 11., 12., 13., 14., 15., 16., 17., 18., 19., 20., 21., 22.,
       23., 24.])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.random.choice(x, size=(<span class="number">4</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<pre><code>array([[18., 20., 23.],
       [19., 15., 11.],
       [19., 22., 19.],
       [15., 14., 20.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.choice(<span class="number">10</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([6, 8, 8, 1, 6, 4, 9, 1, 2, 7])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">5</span>).reshape(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">x</span><br><span class="line">x.sum(axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[10]])
</code></pre><ul>
<li>按概率采样</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">10</span>, <span class="number">25</span>, dtype = float)</span><br><span class="line">np.random.choice(x, size=(<span class="number">4</span>, <span class="number">3</span>), p=x/np.sum(x))</span><br></pre></td></tr></table></figure>
<pre><code>array([[10., 16., 19.],
       [13., 14., 10.],
       [22., 23., 10.],
       [21., 10., 24.]])
</code></pre><h2 id="11-3-Numpy数组的性质"><a href="#11-3-Numpy数组的性质" class="headerlink" title="11.3 Numpy数组的性质"></a>11.3 Numpy数组的性质</h2><h3 id="11-3-1-数组的属性"><a href="#11-3-1-数组的属性" class="headerlink" title="11.3.1 数组的属性"></a>11.3.1 数组的属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[4, 1, 6, 3],
       [5, 3, 0, 9],
       [2, 8, 4, 1]])
</code></pre><p><strong>1、数组的形状shape</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.shape</span><br></pre></td></tr></table></figure>
<pre><code>(3, 4)
</code></pre><p><strong>2、数组的维度ndim</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.ndim</span><br></pre></td></tr></table></figure>
<pre><code>2
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = np.arange(<span class="number">10</span>)</span><br><span class="line">y</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y.ndim</span><br></pre></td></tr></table></figure>
<pre><code>1
</code></pre><p><strong>3、数组的大小size</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.size</span><br></pre></td></tr></table></figure>
<pre><code>12
</code></pre><p><strong>4、数组的数据类型dtype</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.dtype</span><br></pre></td></tr></table></figure>
<pre><code>dtype(&#39;int32&#39;)
</code></pre><h3 id="11-3-2-数组索引"><a href="#11-3-2-数组索引" class="headerlink" title="11.3.2 数组索引"></a>11.3.2 数组索引</h3><p><strong>1、一维数组的索引</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.arange(<span class="number">10</span>)</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>9
</code></pre><p><strong>2、多维数组的索引——以二维为例</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.random.randint(<span class="number">0</span>, <span class="number">20</span>, (<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[17,  8, 15],
       [17, 11, 13]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[<span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>17
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>17
</code></pre><p><strong>注意：numpy数组的数据类型是固定的，向一个整型数组插入一个浮点值，浮点值会向下进行取整</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">1.618</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  8, 15],
       [17, 11, 13]])
</code></pre><h3 id="11-3-3-数组的切片"><a href="#11-3-3-数组的切片" class="headerlink" title="11.3.3 数组的切片"></a>11.3.3 数组的切片</h3><p><strong>1、一维数组——跟列表一样</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x1 = np.arange(<span class="number">10</span>)</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[<span class="number">3</span>:]</span><br></pre></td></tr></table></figure>
<pre><code>array([3, 4, 5, 6, 7, 8, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])
</code></pre><p><strong>2、多维数组——以二维为例</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.random.randint(<span class="number">20</span>, size=(<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[13,  1,  2,  8],
       [ 1,  7,  5, 14],
       [ 2,  7,  8, 16]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[:<span class="number">2</span>, :<span class="number">3</span>]             <span class="comment"># 前两行，前三列</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[13,  1,  2],
       [ 1,  7,  5]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[:<span class="number">2</span>, <span class="number">0</span>:<span class="number">3</span>:<span class="number">2</span>]       <span class="comment"># 前两行 前三列（每隔一列）</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[13,  2],
       [ 1,  5]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[::<span class="number">-1</span>, ::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([[16,  8,  7,  2],
       [14,  5,  7,  1],
       [ 8,  2,  1, 13]])
</code></pre><p><strong>3、获取数组的行和列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x3 = np.random.randint(<span class="number">20</span>, size=(<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line">x3</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0, 14, 13,  2],
       [ 5, 18,  7, 16],
       [13,  7,  6,  4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x3[<span class="number">1</span>, :]   <span class="comment">#第一行  从0开始计数</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ 5, 18,  7, 16])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x3[<span class="number">1</span>]    <span class="comment"># 第一行简写</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ 5, 18,  7, 16])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x3[:, <span class="number">2</span>]  <span class="comment"># 第二列   从0开始计数</span></span><br></pre></td></tr></table></figure>
<pre><code>array([13,  7,  6])
</code></pre><p><strong>4、切片获取的是视图，而非副本</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x4 = np.random.randint(<span class="number">20</span>, size=(<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[12, 13, 16,  6],
       [ 0,  9, 11, 15],
       [12,  7,  7,  2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x5 = x4[:<span class="number">2</span>, :<span class="number">2</span>]</span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([[12, 13],
       [ 0,  9]])
</code></pre><p><strong>注意：视图元素发生修改，则原数组亦发生相应修改</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x5[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0, 13],
       [ 0,  9]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0, 13, 16,  6],
       [ 0,  9, 11, 15],
       [12,  7,  7,  2]])
</code></pre><p><strong>修改切片的安全方式：copy</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x4 = np.random.randint(<span class="number">20</span>, size=(<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 4,  5,  6,  5],
       [ 7, 15,  9,  4],
       [ 7,  8, 19,  3]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = x4[:<span class="number">2</span>, :<span class="number">2</span>].copy()</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 4,  5],
       [ 7, 15]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  5],
       [ 7, 15]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 4,  5,  6,  5],
       [ 7, 15,  9,  4],
       [ 7,  8, 19,  3]])
</code></pre><h3 id="11-3-4-数组的变形"><a href="#11-3-4-数组的变形" class="headerlink" title="11.3.4 数组的变形"></a>11.3.4 数组的变形</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x5 = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">12</span>,))</span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([8, 5, 7, 7, 9, 5, 2, 5, 9, 6, 0, 3])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x5.shape</span><br></pre></td></tr></table></figure>
<pre><code>(12,)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = x5.reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[8, 5, 7, 7],
       [9, 5, 2, 5],
       [9, 6, 0, 3]])
</code></pre><p><strong>注意：reshape返回的是视图，而非副本</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 5, 7, 7, 9, 5, 2, 5, 9, 6, 0, 3])
</code></pre><p><strong>一维向量转行向量</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x7 = x5.reshape(<span class="number">1</span>, x5.shape[<span class="number">0</span>])    </span><br><span class="line">x7</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 5, 7, 7, 9, 5, 2, 5, 9, 6, 0, 3]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x8 = x5[np.newaxis, :]</span><br><span class="line">x8</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 5, 7, 7, 9, 5, 2, 5, 9, 6, 0, 3]])
</code></pre><p><strong>一维向量转列向量</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x7 = x5.reshape(x5.shape[<span class="number">0</span>], <span class="number">1</span>)    </span><br><span class="line">x7</span><br></pre></td></tr></table></figure>
<pre><code>array([[0],
       [5],
       [7],
       [7],
       [9],
       [5],
       [2],
       [5],
       [9],
       [6],
       [0],
       [3]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x8 = x5[:, np.newaxis]</span><br><span class="line">x8</span><br></pre></td></tr></table></figure>
<pre><code>array([[0],
       [5],
       [7],
       [7],
       [9],
       [5],
       [2],
       [5],
       [9],
       [6],
       [0],
       [3]])
</code></pre><p><strong>多维向量转一维向量</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = np.random.randint(<span class="number">0</span>, <span class="number">10</span>, (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[6, 1, 2, 1],
       [5, 3, 9, 8],
       [0, 6, 0, 0]])
</code></pre><p><strong>flatten返回的是副本</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x9 = x6.flatten()</span><br><span class="line">x9</span><br></pre></td></tr></table></figure>
<pre><code>array([6, 1, 2, 1, 5, 3, 9, 8, 0, 6, 0, 0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x9[<span class="number">0</span>]=<span class="number">1</span></span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[6, 1, 2, 1],
       [5, 3, 9, 8],
       [0, 6, 0, 0]])
</code></pre><p><strong>ravel返回的是视图</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x10 = x6.ravel()</span><br><span class="line">x10</span><br></pre></td></tr></table></figure>
<pre><code>array([6, 1, 2, 1, 5, 3, 9, 8, 0, 6, 0, 0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x10[<span class="number">0</span>]=<span class="number">1</span></span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 1, 2, 1],
       [5, 3, 9, 8],
       [0, 6, 0, 0]])
</code></pre><p><strong>reshape返回的是视图</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x11 = x6.reshape(<span class="number">-1</span>)</span><br><span class="line">x11</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 1, 2, 1, 5, 3, 9, 8, 0, 6, 0, 0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x11[<span class="number">0</span>]=<span class="number">10</span></span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[10,  1,  2,  1],
       [ 5,  3,  9,  8],
       [ 0,  6,  0,  0]])
</code></pre><h3 id="11-3-5-数组的拼接"><a href="#11-3-5-数组的拼接" class="headerlink" title="11.3.5 数组的拼接"></a>11.3.5 数组的拼接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">              [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">x2 = np.array([[<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">              [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>1、水平拼接——非视图</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x3 = np.hstack([x1, x2])</span><br><span class="line">x3</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3, 7, 8, 9],
       [4, 5, 6, 0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x3[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x4 = np.c_[x1, x2]</span><br><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3, 7, 8, 9],
       [4, 5, 6, 0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x4[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre><p><strong>2、垂直拼接——非视图</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">              [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">x2 = np.array([[<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">              [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x5 = np.vstack([x1, x2])</span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = np.r_[x1, x2]</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [0, 1, 2]])
</code></pre><h3 id="11-3-6-数组的分裂"><a href="#11-3-6-数组的分裂" class="headerlink" title="11.3.6 数组的分裂"></a>11.3.6 数组的分裂</h3><p><strong>1、split的用法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = np.arange(<span class="number">10</span>)</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[7, 6, 7, 3],
       [7, 1, 8, 2],
       [6, 4, 5, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1, x2, x3 = np.split(x6, [<span class="number">2</span>, <span class="number">7</span>])</span><br><span class="line">print(x1, x2, x3)</span><br></pre></td></tr></table></figure>
<pre><code>[[7 6 7 3]
 [7 1 8 2]] [[6 4 5 2]] []
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">help(np.split)</span><br></pre></td></tr></table></figure>
<pre><code>Help on function split in module numpy.lib.shape_base:

split(ary, indices_or_sections, axis=0)
    Split an array into multiple sub-arrays.

    Parameters
    ----------
    ary : ndarray
        Array to be divided into sub-arrays.
    indices_or_sections : int or 1-D array
        If `indices_or_sections` is an integer, N, the array will be divided
        into N equal arrays along `axis`.  If such a split is not possible,
        an error is raised.

        If `indices_or_sections` is a 1-D array of sorted integers, the entries
        indicate where along `axis` the array is split.  For example,
        ``[2, 3]`` would, for ``axis=0``, result in

          - ary[:2]
          - ary[2:3]
          - ary[3:]

        If an index exceeds the dimension of the array along `axis`,
        an empty sub-array is returned correspondingly.
    axis : int, optional
        The axis along which to split, default is 0.

    Returns
    -------
    sub-arrays : list of ndarrays
        A list of sub-arrays.

    Raises
    ------
    ValueError
        If `indices_or_sections` is given as an integer, but
        a split does not result in equal division.

    See Also
    --------
    array_split : Split an array into multiple sub-arrays of equal or
                  near-equal size.  Does not raise an exception if
                  an equal division cannot be made.
    hsplit : Split array into multiple sub-arrays horizontally (column-wise).
    vsplit : Split array into multiple sub-arrays vertically (row wise).
    dsplit : Split array into multiple sub-arrays along the 3rd axis (depth).
    concatenate : Join a sequence of arrays along an existing axis.
    stack : Join a sequence of arrays along a new axis.
    hstack : Stack arrays in sequence horizontally (column wise).
    vstack : Stack arrays in sequence vertically (row wise).
    dstack : Stack arrays in sequence depth wise (along third dimension).

    Examples
    --------
    &gt;&gt;&gt; x = np.arange(9.0)
    &gt;&gt;&gt; np.split(x, 3)
    [array([ 0.,  1.,  2.]), array([ 3.,  4.,  5.]), array([ 6.,  7.,  8.])]

    &gt;&gt;&gt; x = np.arange(8.0)
    &gt;&gt;&gt; np.split(x, [3, 5, 6, 10])
    [array([ 0.,  1.,  2.]),
     array([ 3.,  4.]),
     array([ 5.]),
     array([ 6.,  7.]),
     array([], dtype=float64)]
</code></pre><p><strong>2、hsplit的用法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x7 = np.arange(<span class="number">1</span>, <span class="number">26</span>).reshape(<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">x7</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20],
       [21, 22, 23, 24, 25]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">left, middle, right = np.hsplit(x7, [<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line">print(<span class="string">"left:\n"</span>, left)            <span class="comment"># 第0~1列</span></span><br><span class="line">print(<span class="string">"middle:\n"</span>, middle)        <span class="comment"># 第2~3列</span></span><br><span class="line">print(<span class="string">"right:\n"</span>, right)          <span class="comment"># 第4列</span></span><br></pre></td></tr></table></figure>
<pre><code>left:
 [[ 1  2]
 [ 6  7]
 [11 12]
 [16 17]
 [21 22]]
middle:
 [[ 3  4]
 [ 8  9]
 [13 14]
 [18 19]
 [23 24]]
right:
 [[ 5]
 [10]
 [15]
 [20]
 [25]]
</code></pre><p><strong>3、vsplit的用法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x7 = np.arange(<span class="number">1</span>, <span class="number">26</span>).reshape(<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">x7</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20],
       [21, 22, 23, 24, 25]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">upper, middle, lower = np.vsplit(x7, [<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line">print(<span class="string">"upper:\n"</span>, upper)         <span class="comment"># 第0~1行</span></span><br><span class="line">print(<span class="string">"middle:\n"</span>, middle)       <span class="comment"># 第2~3行</span></span><br><span class="line">print(<span class="string">"lower:\n"</span>, lower)         <span class="comment"># 第4行</span></span><br></pre></td></tr></table></figure>
<pre><code>upper:
 [[ 1  2  3  4  5]
 [ 6  7  8  9 10]]
middle:
 [[11 12 13 14 15]
 [16 17 18 19 20]]
lower:
 [[21 22 23 24 25]]
</code></pre><h2 id="11-4-Numpy四大运算"><a href="#11-4-Numpy四大运算" class="headerlink" title="11.4 Numpy四大运算"></a>11.4 Numpy四大运算</h2><h3 id="11-4-1-向量化运算"><a href="#11-4-1-向量化运算" class="headerlink" title="11.4.1 向量化运算"></a>11.4.1 向量化运算</h3><p><strong>1、与数字的加减乘除等</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"x1+5"</span>, x1+<span class="number">5</span>)</span><br><span class="line">print(<span class="string">"x1-5"</span>, x1<span class="number">-5</span>)</span><br><span class="line">print(<span class="string">"x1*5"</span>, x1*<span class="number">5</span>)</span><br><span class="line">print(<span class="string">"x1/5"</span>, x1/<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>x1+5 [ 6  7  8  9 10]
x1-5 [-4 -3 -2 -1  0]
x1*5 [ 5 10 15 20 25]
x1/5 [0.2 0.4 0.6 0.8 1. ]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"-x1"</span>, -x1)</span><br><span class="line">print(<span class="string">"x1**2"</span>, x1**<span class="number">2</span>)</span><br><span class="line">print(<span class="string">"x1//2"</span>, x1//<span class="number">2</span>)</span><br><span class="line">print(<span class="string">"x1%2"</span>, x1%<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<pre><code>-x1 [-1 -2 -3 -4 -5]
x1**2 [ 1  4  9 16 25]
x1//2 [0 1 1 2 2]
x1%2 [1 0 1 0 1]
</code></pre><p><strong>2、绝对值、三角函数、指数、对数</strong></p>
<p>（1）绝对值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.array([<span class="number">1</span>, <span class="number">-1</span>, <span class="number">2</span>, <span class="number">-2</span>, <span class="number">0</span>])</span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([ 1, -1,  2, -2,  0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abs(x2)</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 1, 2, 2, 0])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.abs(x2)</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 1, 2, 2, 0])
</code></pre><p>（2）三角函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">theta = np.linspace(<span class="number">0</span>, np.pi, <span class="number">3</span>)</span><br><span class="line">theta</span><br></pre></td></tr></table></figure>
<pre><code>array([0.        , 1.57079633, 3.14159265])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"sin(theta)"</span>, np.sin(theta))</span><br><span class="line">print(<span class="string">"con(theta)"</span>, np.cos(theta))</span><br><span class="line">print(<span class="string">"tan(theta)"</span>, np.tan(theta))</span><br></pre></td></tr></table></figure>
<pre><code>sin(theta) [0.0000000e+00 1.0000000e+00 1.2246468e-16]
con(theta) [ 1.000000e+00  6.123234e-17 -1.000000e+00]
tan(theta) [ 0.00000000e+00  1.63312394e+16 -1.22464680e-16]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">0</span> ,<span class="number">-1</span>]</span><br><span class="line">print(<span class="string">"arcsin(x)"</span>, np.arcsin(x))</span><br><span class="line">print(<span class="string">"arccon(x)"</span>, np.arccos(x))</span><br><span class="line">print(<span class="string">"arctan(x)"</span>, np.arctan(x))</span><br></pre></td></tr></table></figure>
<pre><code>arcsin(x) [ 1.57079633  0.         -1.57079633]
arccon(x) [0.         1.57079633 3.14159265]
arctan(x) [ 0.78539816  0.         -0.78539816]
</code></pre><p>（3）指数运算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">3</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([0, 1, 2])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.exp(x)</span><br></pre></td></tr></table></figure>
<pre><code>array([1.        , 2.71828183, 7.3890561 ])
</code></pre><p>（4）对数运算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span> ,<span class="number">10</span>])</span><br><span class="line">print(<span class="string">"ln(x)"</span>, np.log(x))</span><br><span class="line">print(<span class="string">"log2(x)"</span>, np.log2(x))</span><br><span class="line">print(<span class="string">"log10(x)"</span>, np.log10(x))</span><br></pre></td></tr></table></figure>
<pre><code>ln(x) [0.         0.69314718 1.38629436 2.07944154 2.30258509]
log2(x) [0.         1.         2.         3.         3.32192809]
log10(x) [0.         0.30103    0.60205999 0.90308999 1.        ]
</code></pre><p><strong>3、两个数组的运算</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.arange(<span class="number">6</span>,<span class="number">11</span>)</span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([ 6,  7,  8,  9, 10])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"x1+x2:"</span>, x1+x2)</span><br><span class="line">print(<span class="string">"x1-x2:"</span>, x1-x2)</span><br><span class="line">print(<span class="string">"x1*x2:"</span>, x1*x2)</span><br><span class="line">print(<span class="string">"x1/x2:"</span>, x1/x2)</span><br></pre></td></tr></table></figure>
<pre><code>x1+x2: [ 7  9 11 13 15]
x1-x2: [-5 -5 -5 -5 -5]
x1*x2: [ 6 14 24 36 50]
x1/x2: [0.16666667 0.28571429 0.375      0.44444444 0.5       ]
</code></pre><h3 id="11-4-2-矩阵运算"><a href="#11-4-2-矩阵运算" class="headerlink" title="11.4.2 矩阵运算"></a>11.4.2 矩阵运算</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])
</code></pre><ul>
<li>矩阵的转置</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = x.T</span><br><span class="line">y</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 3, 6],
       [1, 4, 7],
       [2, 5, 8]])
</code></pre><ul>
<li>矩阵乘法</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([[<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">             [<span class="number">1</span>, <span class="number">1</span>]])</span><br><span class="line">y = np.array([[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">             [<span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.dot(y)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1],
       [1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.dot(x, y)</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1],
       [1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y.dot(x)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 1],
       [2, 1]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.dot(y, x)</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 1],
       [2, 1]])
</code></pre><p><strong>注意跟x*y的区别</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x*y</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 0],
       [1, 1]])
</code></pre><h3 id="11-4-3-广播运算"><a href="#11-4-3-广播运算" class="headerlink" title="11.4.3 广播运算"></a>11.4.3 广播运算</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">3</span>).reshape(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x+<span class="number">5</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[5, 6, 7]])
</code></pre><p><strong>规则</strong></p>
<p>如果两个数组的形状在维度上不匹配</p>
<p>那么数组的形式会沿着维度为1的维度进行扩展以匹配另一个数组的形状。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.ones((<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.arange(<span class="number">3</span>).reshape(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1+x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[1., 2., 3.],
       [1., 2., 3.],
       [1., 2., 3.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x3 = np.logspace(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>, base=<span class="number">2</span>).reshape(<span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">x3</span><br></pre></td></tr></table></figure>
<pre><code>array([[   2.,    4.,    8.,   16.,   32.],
       [  64.,  128.,  256.,  512., 1024.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x4 = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>]])</span><br><span class="line">x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  2,  4,  8, 16]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x3/x4</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 2.,  2.,  2.,  2.,  2.],
       [64., 64., 64., 64., 64.]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x5 = np.arange(<span class="number">3</span>).reshape(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">x5</span><br></pre></td></tr></table></figure>
<pre><code>array([[0],
       [1],
       [2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x6 = np.arange(<span class="number">3</span>).reshape(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x5+x6</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2],
       [1, 2, 3],
       [2, 3, 4]])
</code></pre><h3 id="11-4-4-比较运算和掩码"><a href="#11-4-4-比较运算和掩码" class="headerlink" title="11.4.4 比较运算和掩码"></a>11.4.4 比较运算和掩码</h3><p><strong>1、比较运算</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.random.randint(<span class="number">100</span>, size=(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 2,  2, 95, 94, 80, 41, 29, 18,  0, 80],
       [67, 31, 11, 58, 39, 42, 49, 37,  0, 11],
       [ 3, 21, 15, 54, 41, 97, 92, 85, 91, 88],
       [95, 25, 49, 74, 67, 12, 31, 23, 27, 82],
       [69, 88, 85, 93, 74, 37,  3,  7,  9, 89],
       [25, 30, 27, 24, 71, 81, 81, 31, 52, 38],
       [44, 37, 84, 83, 60, 95, 91, 86,  2, 51],
       [75, 93, 70, 10, 92, 70, 29, 35, 45, 97],
       [83, 34, 50, 49, 58, 62,  9, 48, 17, 78],
       [62, 98, 90, 84, 88, 34, 19, 59, 98, 31]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x1 &gt; <span class="number">50</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[False, False,  True,  True,  True, False, False, False, False,
         True],
       [ True, False, False,  True, False, False, False, False, False,
        False],
       [False, False, False,  True, False,  True,  True,  True,  True,
         True],
       [ True, False, False,  True,  True, False, False, False, False,
         True],
       [ True,  True,  True,  True,  True, False, False, False, False,
         True],
       [False, False, False, False,  True,  True,  True, False,  True,
        False],
       [False, False,  True,  True,  True,  True,  True,  True, False,
         True],
       [ True,  True,  True, False,  True,  True, False, False, False,
         True],
       [ True, False, False, False,  True,  True, False, False, False,
         True],
       [ True,  True,  True,  True,  True, False, False,  True,  True,
        False]])
</code></pre><p><strong>2、操作布尔数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x2 = np.random.randint(<span class="number">10</span>, size=(<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[3, 1, 4, 6],
       [1, 1, 4, 8],
       [2, 4, 8, 4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(x2 &gt; <span class="number">5</span>)</span><br><span class="line">np.sum(x2 &gt; <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>[[False False False  True]
 [False False False  True]
 [False False  True False]]





3
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.all(x2 &gt; <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.any(x2 == <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.all(x2 &lt; <span class="number">9</span>, axis=<span class="number">1</span>)   <span class="comment"># 按行进行判断</span></span><br></pre></td></tr></table></figure>
<pre><code>array([ True,  True,  True])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[3, 1, 4, 6],
       [1, 1, 4, 8],
       [2, 4, 8, 4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(x2 &lt; <span class="number">9</span>) &amp; (x2 &gt;<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([[False, False, False,  True],
       [False, False, False,  True],
       [False, False,  True, False]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum((x2 &lt; <span class="number">9</span>) &amp; (x2 &gt;<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<pre><code>3
</code></pre><p><strong>3、将布尔数组作为掩码</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2</span><br></pre></td></tr></table></figure>
<pre><code>array([[3, 1, 4, 6],
       [1, 1, 4, 8],
       [2, 4, 8, 4]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2 &gt; <span class="number">5</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[False, False, False,  True],
       [False, False, False,  True],
       [False, False,  True, False]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x2[x2 &gt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>array([6, 8, 8])
</code></pre><h3 id="11-4-5-花哨的索引"><a href="#11-4-5-花哨的索引" class="headerlink" title="11.4.5  花哨的索引"></a>11.4.5  花哨的索引</h3><p><strong>1、一维数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">100</span>, size=<span class="number">10</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([80,  0, 75, 19, 19, 27, 15, 24, 35, 92])
</code></pre><p><strong>注意：结果的形状与索引数组ind一致</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ind = [<span class="number">2</span>, <span class="number">6</span>, <span class="number">9</span>]</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>
<pre><code>array([75, 15, 92])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ind = np.array([[<span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">               [<span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line">x[ind]</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0, 80],
       [75, 19]])
</code></pre><p><strong>2、多维数组</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">row = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">col = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>])</span><br><span class="line">x[row, col]               <span class="comment"># x(0, 1) x(1, 3) x(2, 0)</span></span><br></pre></td></tr></table></figure>
<pre><code>array([1, 7, 8])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">row[:, np.newaxis]       <span class="comment"># 列向量</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[0],
       [1],
       [2]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[row[:, np.newaxis], col]    <span class="comment"># 广播机制</span></span><br></pre></td></tr></table></figure>
<pre><code>array([[ 1,  3,  0],
       [ 5,  7,  4],
       [ 9, 11,  8]])
</code></pre><h2 id="11-5-其他Numpy通用函数"><a href="#11-5-其他Numpy通用函数" class="headerlink" title="11.5 其他Numpy通用函数"></a>11.5 其他Numpy通用函数</h2><h3 id="11-5-1-数值排序"><a href="#11-5-1-数值排序" class="headerlink" title="11.5.1  数值排序"></a>11.5.1  数值排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">20</span>, <span class="number">50</span>, size=<span class="number">10</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([30, 28, 46, 46, 39, 34, 41, 45, 46, 42])
</code></pre><ul>
<li>产生新的排序数组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sort(x)</span><br></pre></td></tr></table></figure>
<pre><code>array([28, 30, 34, 39, 41, 42, 45, 46, 46, 46])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([30, 28, 46, 46, 39, 34, 41, 45, 46, 42])
</code></pre><ul>
<li>替换原数组</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x.sort()</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([28, 30, 34, 39, 41, 42, 45, 46, 46, 46])
</code></pre><ul>
<li>获得排序索引</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">20</span>, <span class="number">50</span>, size=<span class="number">10</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([39, 41, 27, 43, 43, 26, 30, 22, 22, 26])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = np.argsort(x)</span><br><span class="line">i</span><br></pre></td></tr></table></figure>
<pre><code>array([7, 8, 5, 9, 2, 6, 0, 1, 3, 4], dtype=int64)
</code></pre><h3 id="11-5-2-最大最小值"><a href="#11-5-2-最大最小值" class="headerlink" title="11.5.2  最大最小值"></a>11.5.2  最大最小值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">20</span>, <span class="number">50</span>, size=<span class="number">10</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([24, 29, 40, 22, 26, 21, 40, 39, 41, 38])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"max:"</span>, np.max(x))</span><br><span class="line">print(<span class="string">"min:"</span>, np.min(x))</span><br></pre></td></tr></table></figure>
<pre><code>max: 41
min: 21
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"max_index:"</span>, np.argmax(x))</span><br><span class="line">print(<span class="string">"min_index:"</span>, np.argmin(x))</span><br></pre></td></tr></table></figure>
<pre><code>max_index: 8
min_index: 5
</code></pre><h3 id="11-5-3-数值求和、求积"><a href="#11-5-3-数值求和、求积" class="headerlink" title="11.5.3  数值求和、求积"></a>11.5.3  数值求和、求积</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.sum()</span><br></pre></td></tr></table></figure>
<pre><code>15
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(x)</span><br></pre></td></tr></table></figure>
<pre><code>15
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x1 = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">x1</span><br></pre></td></tr></table></figure>
<pre><code>array([[0, 1, 2],
       [3, 4, 5]])
</code></pre><ul>
<li>按行求和</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(x1, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([ 3, 12])
</code></pre><ul>
<li>按列求和</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(x1, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([3, 5, 7])
</code></pre><ul>
<li>全体求和</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.sum(x1)</span><br></pre></td></tr></table></figure>
<pre><code>15
</code></pre><ul>
<li>求积</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.prod()</span><br></pre></td></tr></table></figure>
<pre><code>120
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.prod(x)</span><br></pre></td></tr></table></figure>
<pre><code>120
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">10</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">x</span><br></pre></td></tr></table></figure>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.prod(x, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<pre><code>array([  6, 120, 504])
</code></pre><h3 id="11-5-4-中位数、均值、方差、标准差"><a href="#11-5-4-中位数、均值、方差、标准差" class="headerlink" title="11.5.4  中位数、均值、方差、标准差"></a>11.5.4  中位数、均值、方差、标准差</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, size=<span class="number">10000</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.hist(x, bins=<span class="number">50</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;Figure size 640x480 with 1 Axes&gt;
</code></pre><ul>
<li>中位数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.median(x)</span><br></pre></td></tr></table></figure>
<pre><code>-0.01370823948627687
</code></pre><ul>
<li>均值</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.mean()</span><br></pre></td></tr></table></figure>
<pre><code>-0.009601644618779558
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.mean(x)</span><br></pre></td></tr></table></figure>
<pre><code>-0.009601644618779558
</code></pre><ul>
<li>方差</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.var()</span><br></pre></td></tr></table></figure>
<pre><code>1.0111943453268242
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.var(x)</span><br></pre></td></tr></table></figure>
<pre><code>1.0111943453268242
</code></pre><ul>
<li>标准差</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.std()</span><br></pre></td></tr></table></figure>
<pre><code>1.0055815955589205
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.std(x)</span><br></pre></td></tr></table></figure>
<pre><code>1.0055815955589205
</code></pre></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">rgwang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8011/">https://rgwang.github.io/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8011/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://rgwang.github.io" target="_blank">rgwang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><div class="post_share"><div class="social-share" data-image="/img/ball-ball-shaped-color-earth-269724.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8012/"><img class="prev_cover" src="/img/landscape-photo-of-mountain-with-polar-lights-1434608.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">python基础12(Pandas库)</div></div></a></div><div class="next-post pull_right"><a href="/2020/08/15/deepshare_python%E5%9F%BA%E7%A1%8010/"><img class="next_cover" src="/img/volcano-erupting-at-night-under-starry-sky-4220967.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">python基础10(标准库)</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/08/15/deepshare_python基础10/" title="python基础10(标准库)"><img class="relatedPosts_cover" src="/img/volcano-erupting-at-night-under-starry-sky-4220967.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-15</div><div class="relatedPosts_title">python基础10(标准库)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/17/deepshare_python基础13/" title="python基础13(matplotlib库)"><img class="relatedPosts_cover" src="/img/action-android-device-electronics-595804.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-17</div><div class="relatedPosts_title">python基础13(matplotlib库)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/17/deepshare_python基础14/" title="python基础14(scikit-learn库)"><img class="relatedPosts_cover" src="/img/action-android-device-electronics-595804.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-17</div><div class="relatedPosts_title">python基础14(scikit-learn库)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/17/deepshare_python基础15/" title="python基础15(时间复杂度)"><img class="relatedPosts_cover" src="/img/aerial-photography-of-green-forest-695299.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-17</div><div class="relatedPosts_title">python基础15(时间复杂度)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/06/deepshare_python基础2/" title="python基础2(基本语法元素)"><img class="relatedPosts_cover" src="/img/action-android-device-electronics-595804.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-06</div><div class="relatedPosts_title">python基础2(基本语法元素)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/08/11/deepshare_python基础4/" title="python基础4(组合数据类型)"><img class="relatedPosts_cover" src="/img/action-android-device-electronics-595804.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-11</div><div class="relatedPosts_title">python基础4(组合数据类型)</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" style="background-image: url(/img/action-android-device-electronics-595804.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By rgwang</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi,welcome to my blog!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script></body></html>